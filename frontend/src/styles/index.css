@font-face {
  font-family: 'Satoshi';
  src: url('/fonts/Satoshi-Variable.woff2') format('woff2');
  font-weight: 300 900;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
      scroll-behavior: auto !important;
    }

    body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background-color: #f0f0f0;
        position: relative;
    }

    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.5' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.3'/%3E%3C/svg%3E");
        pointer-events: none;
        z-index: 9999;
        mix-blend-mode: multiply;
    }

    body.modal-open {
        overflow: hidden;
    }

    #content-container,
    #footer-container > div {
        @apply transition-all duration-200 ease-in-out;
    }

    #content-container.page-transition-out,
    #footer-container.page-transition-out > div {
        @apply opacity-0 transform -translate-y-4;
    }

    [class*="animate-fade-in"],
    [class*="animate-zoom-in"] {
        opacity: 0;
    }

    .scroll-animate {
        @apply opacity-0 transition-all duration-700 ease-out;
    }
    .scroll-animate.scrolled-in {
        @apply opacity-100;
        transform: none !important;
    }

    .animate-fade-in-up {
        transform: translateY(4rem);
    }
    .animate-fade-in-left {
        transform: translateX(-2rem);
    }
    .animate-fade-in-right {
        transform: translateX(2rem);
    }
    .animate-zoom-in {
        transform: scale(0.95);
    }

    video::-webkit-media-controls-enclosure,
    video::-webkit-media-controls {
        display: none !important;
    }

    @media (hover: hover) and (pointer: fine) {
        html {
            cursor: url('/cursors/default.cur'), auto;
        }
        a, button, details > summary {
            cursor: url('/cursors/pointer.cur'), pointer;
        }
    }
}

@layer components {
  .gradient-border-bottom {
    @apply relative;
  }
  .gradient-border-bottom::after {
    content: '';
    @apply absolute bottom-0 left-0 right-0 h-px bg-red-600;
  }

  .gradient-text {
    @apply text-red-600;
  }
  
  details > summary {
    list-style: none;
  }

  details > summary::-webkit-details-marker {
    display: none;
  }

  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #e5e7eb;
  }

  ::-webkit-scrollbar-thumb {
    background: #9ca3af;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #6b7280;
  }
  
  .prose-custom {
    @apply prose max-w-none prose-h1:text-4xl prose-h1:font-bold prose-h1:tracking-tighter prose-h2:text-3xl prose-h2:font-bold prose-h2:border-b prose-h2:border-gray-200 prose-h2:pb-3 prose-h2:mb-6 prose-h3:text-xl prose-h3:font-bold prose-a:text-red-600 prose-a:no-underline prose-a:transition-all prose-a:duration-200 hover:prose-a:underline prose-strong:text-gray-900 prose-blockquote:border-l-red-600 prose-blockquote:bg-gray-100 prose-blockquote:px-4 prose-code:bg-gray-200 prose-code:text-gray-800 prose-code:p-1 prose-code:rounded-md prose-code:font-mono prose-li:my-1 prose-table:border-gray-200 prose-th:border-b-2 prose-th:border-gray-300 prose-tr:border-b prose-tr:border-gray-200;
  }
  
  .prose-custom p, 
  .prose-custom ul, 
  .prose-custom ol {
      @apply text-gray-700 text-base leading-relaxed;
  }
  
  .prose-custom h1 {
      @apply text-red-600;
  }
  
  .prose-custom h2, 
  .prose-custom h3, 
  .prose-custom h4 {
      @apply text-gray-900;
  } 

  .prose-custom h1,
  .prose-custom h2,
  .prose-custom h3,
  .prose-custom h4,
  .prose-custom h5,
  .prose-custom h6 {
    scroll-margin-top: 6rem;
  }

  .prose-custom code::before,
  .prose-custom code::after {
    content: none;
  }

  .code-block {
    @apply bg-gray-50 my-6 rounded-lg border border-gray-300 shadow-lg overflow-hidden;
  }

  .code-block-header {
    @apply bg-gray-200 px-4 py-2 text-xs text-gray-500 font-semibold border-b border-gray-300;
  }

  .code-block-content {
      @apply p-4 text-sm font-mono overflow-x-auto text-gray-800;
  }

  .code-block-content .command {
    @apply text-red-600;
  }

  .code-block-content .output {
    @apply text-gray-600;
  }

  .code-block-content .comment {
    @apply text-green-700;
  }

  .input-error {
      @apply border-red-500/50 ring-2 ring-red-900/50;
  }
  
  .error-text {
      @apply text-red-600 text-xs mt-1.5;
  }

  .strength-bar {
      @apply w-full h-1 bg-primary rounded-full mt-1.5;
  }
  .strength-bar-fill {
      @apply h-full rounded-full transition-all duration-300;
  }

  .custom-checkbox {
    @apply appearance-none w-4 h-4 rounded border-2 border-subtle bg-primary cursor-pointer align-middle;
    @apply transition-colors duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface focus:ring-accent-primary;
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
    background-position: center;
    background-repeat: no-repeat;
    background-size: 100% 100%;
  }

  .custom-checkbox:checked {
    @apply bg-accent-primary border-accent-primary;
  }

  @keyframes text-shimmer {
    0%   { background-position: 150% 0; }
    45%  { background-position: -150% 0; }
    100% { background-position: -150% 0; }
  }

  .shimmer-text {
    color: transparent;
    background-size: 200% 100%;
    background-clip: text;
    -webkit-background-clip: text;
    background-image: linear-gradient(
        90deg,
        theme('colors.accent-primary') 0%,
        theme('colors.accent-primary') 45%,
        #ffffff 50%,
        theme('colors.accent-primary') 55%,
        theme('colors.accent-primary') 100%
    );
    animation: text-shimmer 6s infinite linear;
    animation-delay: 1.5s;
  }

  @keyframes subtle-float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  .animate-subtle-float {
      animation: subtle-float 6s ease-in-out infinite;
  }
}